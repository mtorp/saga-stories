@import url('https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600');

$break-small : 1000px; 

$progressMainColor: #1bbccb; // Blue

$progressGreyColor: rgba(00, 00, 00, 0.7);
$progressTextColor: White;

$progressFontCaptions: "Source Sans Pro";

@keyframes fadein {
    from { opacity: 0; }
    to   { opacity: 1; }
}

@keyframes pulse {
	0% {
		box-shadow: 0 0 0 0px rgba(204, 169, 44, 0.6);
	}
	30% {
		box-shadow: 0 0 0 15px rgba(204, 169, 44, 0.0);
	}
	100% {
		box-shadow: 0 0 0 0px rgba(204, 169, 44, 0.0);
	}
}

@mixin ABox {
	border-radius: 0.5em;	
}

@mixin AShadowyBox {
	@include ABox;
	box-shadow: 0 2px 6px rgba(0, 0, 0, .1);
}

body {
	font-family: "Open Sans";
	margin: 0px;
}

.paragraph {
	margin: 0em;
}

.button {
	margin: 1em;
}

.scroll-test {
	.heading {
		width: 100%;
		height: 100vh;
		display: flex;
		flex-direction: column;
		justify-content: space-around;
		background: radial-gradient(rgb(220, 220, 220), rgb(100, 100, 100));
		color: rgb(20, 20, 20);

		:not(.background) {
			z-index: 1;
		}

		.background {
			width: 48%;
			height: 115%;
			background-image: url(/img/dvnLogo.svg);
			background-size: 100%;
			background-repeat: no-repeat;
			position: absolute;
			right: -17%;
			top: -9%;
			z-index: 0;
			opacity: 0.5;
		}

		.logo-row {
			font-size: 48px;
			margin: 1em 0;
			.logo {
				margin-right: 1em;
				width: 1.5em;
				height: 1.5em;
				background-image: url(/img/dvnLogo.png);
				background-size: 102%;
			}
		}
		.subtitle-row {
			font-size: 32px;
		}
		.scroll-text {
			animation: pulse 2s infinite;
			border-radius: 0.5em;
			padding: 0.5em;
			float: rigth;
			right: 2em;
			position: absolute;
			bottom: 2em;
			color: whitesmoke;
		}

		.row {
			width: 100%;
			display: flex;
			flex-direction: row;
			justify-content: center;
			align-items: center;
		}
	}

	.scrolling-container {
		background: radial-gradient(rgb(240, 240, 240), rgb(190, 190, 190));
		margin: 0em -0.5em;
		width: calc(100vw - 1em); // No idea why these adjustments are needed, but they amounts to the negative margin of the paragaph we are in - and should be removed
		display: flex;
		height: 800vh;
		
		.sliding-container {
			display: flex;
			height: 98vh;
			width: 90vw;
			margin: 0 auto;
			position: sticky;
			position: -webkit-sticky;
			top: 0em;

			.sliding-content {
				display: flex;
				flex-direction: column;
				padding: 0.4vmax;
				margin: 1em;
				width: calc(100% - 2em);
				height: calc(100% - 2em);
				// background: whitesmoke;
				// border: 0.2em solid rgba(0, 0, 0, 0.1);
				// border-radius: 0.5em;

				.story-anim-child {
					perspective: 1000px;
				}

				.story-anim-item, .story-anim-svg, .story-anim-div, .story-anim-child {
					width: 100%;
					height: 100%;
				}

				.story-anim-svg, .story-anim-div {
					font-size: 22px;
				}

				.story-anim-div {
					padding: 0.5em;
					.slide {
						@include AShadowyBox();
						animation: fadein 2s;
						width: calc(100% - 7em);
						height: calc(100% - 7em);
						padding: 3em;
						background: rgba(255, 255, 255, 0.9);
						border: 1px solid rgba(0, 0, 0, .3);
						display: flex;
						flex-direction: column;
						justify-content: space-around;

						h1 {
							font-size: 3em;
							width: 100%;
							text-align: center;
							color: gray;	
							margin: 0.2em; // The spacing of items already provides a margin
						}
						p {
							padding: 1.5em;
							background: rgba(0, 0, 0, 0.6);
							color: white;
							border: 2px solid rgba(255, 255, 255, 0.5);
							border-radius: 1em;
							code {
								background: $progressMainColor;
								padding: 0.1em 0.3em;
								border-radius: 0.2em;
								border: 1px solid rgba(200, 200, 200, 0.5);
							}
						}
						ul {
							display: flex;
							flex-direction: column;
							justify-content: space-around;
							margin: 1em 0em;
							li {
								height: 2em; // Seems "suggestive", as it does not blow up small-screen views.
							}
						}
					}
				}

				.world-map-root {
					@include ABox();
					// border: 1px solid rgba(0, 0, 0, 0.3);
					.world-map {
						.marker {
							fill: $progressMainColor;
						}
					}
				}
				
				.value-network {
					&.credits {
						position: absolute;
						right: 2em;
						bottom: 2em;

						.credits-enabler {
							opacity: 1;
							transition: height, opacity 1s ease-in-out;
						}
						.actual-credits {
							height: 0em;

							opacity: 0;
							transition: height, width, opacity 1s ease-in-out;
						}
						&:hover {
							.credits-enabler {
								opacity: 1;
							}
							.actual-credits {
								height: 1em;
								opacity: 1;
							}
						}
					}
				}

				.progress-indicator-root {
					.progress-indicator {
						.progress-background {
							opacity: 0;
							transition: opacity 1s;
						}
						&.hot {
							.progress-background {
								opacity: 1;
							}
						}
						.clockCircle {
							fill: none;
							stroke: $progressGreyColor;
						}
						.clockCircle.interest {
							fill: $progressGreyColor;
						}
	
						
						.clockArc {
							fill: none;
							stroke: $progressMainColor;
						}
						
						.clockDot {
							fill: lighten($progressMainColor, 50%);
						}
						
						.caption {
							font-family: $progressFontCaptions;
							font-weight: 300;
							fill: $progressTextColor;
							font-size: 40px;
						}
						.caption.interest {
							font-size: 15px;
							text-align: center;
							font-weight: 500;
							stroke: $progressMainColor;
							fill: $progressMainColor;
						}
					}	
				}

				@media screen and (max-width: $break-small) {
					.story-anim-svg, .story-anim-div {
						font-size: 1rem;
					}
					.story-anim-div {

						.slide {
							width: calc(100% - 3em);
							height: calc(100% - 3em);
							padding: 1em;
							h1 {
								font-size: 1.5em;
							}	
						}
						.story-anim-div {
							.slide {
								padding: 1em;
							}
						}
					}
				}

				.story-anim-item {
					position: relative;
					overflow: hidden; // Prevent translated objects to move outside their container
					> * {
						position: absolute;
					}
				}
			}
		}

		@media screen and (max-width: $break-small) {
			margin: 0em;
			width: 100vw;
			.sliding-container {
				margin: 0em;
				width: 100%;				
			}
		}

	}
	.non-scrolling-footer {
		height: 50vh;
	}
}
